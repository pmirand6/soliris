<!DOCTYPE html>

<html>
<head>
  <title>reporte_360.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page_wrapper">
            <div id="jump_page">
              
                
                <a class="source" href="a_dosis.html">
                  a_dosis.js
                </a>
              
                
                <a class="source" href="a_esp.html">
                  a_esp.js
                </a>
              
                
                <a class="source" href="a_unidad.html">
                  a_unidad.js
                </a>
              
                
                <a class="source" href="adm_reasignar.html">
                  adm_reasignar.js
                </a>
              
                
                <a class="source" href="adm_regs.html">
                  adm_regs.js
                </a>
              
                
                <a class="source" href="adm_regs_docsedit.html">
                  adm_regs_docsedit.js
                </a>
              
                
                <a class="source" href="adm_regs_edit.html">
                  adm_regs_edit.js
                </a>
              
                
                <a class="source" href="apm.html">
                  apm.js
                </a>
              
                
                <a class="source" href="apms.html">
                  apms.js
                </a>
              
                
                <a class="source" href="canal.html">
                  canal.js
                </a>
              
                
                <a class="source" href="canales.html">
                  canales.js
                </a>
              
                
                <a class="source" href="clientes.html">
                  clientes.js
                </a>
              
                
                <a class="source" href="control_venta.html">
                  control_venta.js
                </a>
              
                
                <a class="source" href="datos_pac.html">
                  datos_pac.js
                </a>
              
                
                <a class="source" href="defa.html">
                  defa.js
                </a>
              
                
                <a class="source" href="diff_med.html">
                  diff_med.js
                </a>
              
                
                <a class="source" href="docs_canales.html">
                  docs_canales.js
                </a>
              
                
                <a class="source" href="docs_hist_medico.html">
                  docs_hist_medico.js
                </a>
              
                
                <a class="source" href="docs_hist_paciente.html">
                  docs_hist_paciente.js
                </a>
              
                
                <a class="source" href="docs_medico.html">
                  docs_medico.js
                </a>
              
                
                <a class="source" href="docs_paciente.html">
                  docs_paciente.js
                </a>
              
                
                <a class="source" href="dosis.html">
                  dosis.js
                </a>
              
                
                <a class="source" href="especialidades.html">
                  especialidades.js
                </a>
              
                
                <a class="source" href="funciones.html">
                  funciones.js
                </a>
              
                
                <a class="source" href="generar_venta.html">
                  generar_venta.js
                </a>
              
                
                <a class="source" href="get_apm_info.html">
                  get_apm_info.js
                </a>
              
                
                <a class="source" href="informes.html">
                  informes.js
                </a>
              
                
                <a class="source" href="informes_docs_nue_pres.html">
                  informes_docs_nue_pres.js
                </a>
              
                
                <a class="source" href="informes_nue_pres.html">
                  informes_nue_pres.js
                </a>
              
                
                <a class="source" href="institucion.html">
                  institucion.js
                </a>
              
                
                <a class="source" href="instituciones.html">
                  instituciones.js
                </a>
              
                
                <a class="source" href="listado.html">
                  listado.js
                </a>
              
                
                <a class="source" href="listado_details.html">
                  listado_details.js
                </a>
              
                
                <a class="source" href="log.html">
                  log.js
                </a>
              
                
                <a class="source" href="log_accesos.html">
                  log_accesos.js
                </a>
              
                
                <a class="source" href="login.html">
                  login.js
                </a>
              
                
                <a class="source" href="medico.html">
                  medico.js
                </a>
              
                
                <a class="source" href="medicos.html">
                  medicos.js
                </a>
              
                
                <a class="source" href="modificar_venta.html">
                  modificar_venta.js
                </a>
              
                
                <a class="source" href="nueva_venta.html">
                  nueva_venta.js
                </a>
              
                
                <a class="source" href="paciente.html">
                  paciente.js
                </a>
              
                
                <a class="source" href="pacientes.html">
                  pacientes.js
                </a>
              
                
                <a class="source" href="panel.html">
                  panel.js
                </a>
              
                
                <a class="source" href="panel_mod.html">
                  panel_mod.js
                </a>
              
                
                <a class="source" href="patologia.html">
                  patologia.js
                </a>
              
                
                <a class="source" href="patologias.html">
                  patologias.js
                </a>
              
                
                <a class="source" href="reasignados.html">
                  reasignados.js
                </a>
              
                
                <a class="source" href="reasignar.html">
                  reasignar.js
                </a>
              
                
                <a class="source" href="reporte_360.html">
                  reporte_360.js
                </a>
              
                
                <a class="source" href="reporte_ANMAT.html">
                  reporte_ANMAT.js
                </a>
              
                
                <a class="source" href="reporte_docs_paciente.html">
                  reporte_docs_paciente.js
                </a>
              
                
                <a class="source" href="reporte_filtros.html">
                  reporte_filtros.js
                </a>
              
                
                <a class="source" href="reporte_grilla.html">
                  reporte_grilla.js
                </a>
              
                
                <a class="source" href="reporte_productos.html">
                  reporte_productos.js
                </a>
              
                
                <a class="source" href="reporte_reasignaciones.html">
                  reporte_reasignaciones.js
                </a>
              
                
                <a class="source" href="reporte_ventas.html">
                  reporte_ventas.js
                </a>
              
                
                <a class="source" href="reporte_ventas_apm.html">
                  reporte_ventas_apm.js
                </a>
              
                
                <a class="source" href="reporte_ventas_paciente.html">
                  reporte_ventas_paciente.js
                </a>
              
                
                <a class="source" href="reportes_panel.html">
                  reportes_panel.js
                </a>
              
                
                <a class="source" href="seguridad.html">
                  seguridad.js
                </a>
              
                
                <a class="source" href="unidades.html">
                  unidades.js
                </a>
              
                
                <a class="source" href="usuario.html">
                  usuario.js
                </a>
              
                
                <a class="source" href="usuarios.html">
                  usuarios.js
                </a>
              
            </div>
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>reporte_360.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-keyword">const</span> newLocal = <span class="hljs-string">"../ajax/ajx.reporte_360.php"</span>;
<span class="hljs-keyword">const</span> _url = <span class="hljs-string">"?tabla=revlimid_maestro&amp;campo="</span>;
<span class="hljs-keyword">var</span> aplicacion = getCurrentHostname() + <span class="hljs-string">'/'</span> + getUrlHTTP();

<span class="hljs-keyword">var</span> selectsElements = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">"select.selectpicker"</span>);


<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; selectsElements.length; ++i) {
  
  selectsElements[i].addEventListener(<span class="hljs-string">"change"</span>, postQuery); <span class="hljs-comment">// Definimios el lister para el evento change del combo select</span>
}

$(<span class="hljs-built_in">document</span>).ready(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
  $(<span class="hljs-string">"#secPrincipal"</span>).show();
  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">window</span>.location.search === <span class="hljs-string">""</span>) {
    $(<span class="hljs-string">"#secPrincipal"</span>).hide();
    $(<span class="hljs-string">"#pHelp"</span>).show();
    $(<span class="hljs-string">"#tDat"</span>).hide();
  } <span class="hljs-keyword">else</span> {
    $(<span class="hljs-string">"#pHelp"</span>).hide();
    $(<span class="hljs-string">"#tDat"</span>).show();
    $(<span class="hljs-string">"#secPrincipal"</span>).show();
    
  }

  $(<span class="hljs-string">"#btnExcel"</span>).click(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    $(<span class="hljs-string">"#tblPrincipal"</span>).tableExport({
      <span class="hljs-attr">type</span>: <span class="hljs-string">"excel"</span>,
      <span class="hljs-attr">fileName</span>: <span class="hljs-string">"reporte_360"</span>,
      <span class="hljs-attr">tableName</span>: <span class="hljs-string">"reporte_360"</span>,
      <span class="hljs-attr">worksheetName</span>: <span class="hljs-string">"reporte_360"</span>,
      <span class="hljs-attr">htmlContent</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">excelstyles</span>: [
        <span class="hljs-string">"td"</span>,
        <span class="hljs-string">"tr"</span>,
        <span class="hljs-string">"th"</span>,
        <span class="hljs-string">"thead"</span>,
        <span class="hljs-string">"border-bottom"</span>,
        <span class="hljs-string">"border-top"</span>,
        <span class="hljs-string">"border-left"</span>,
        <span class="hljs-string">"border-right"</span>
      ]
    });
  });


  <span class="hljs-keyword">var</span> url_json = newLocal;

  <span class="hljs-keyword">var</span> sel_med = $(<span class="hljs-string">"#sel_med"</span>).selectpicker({
    <span class="hljs-attr">liveSearchPlaceholder</span>: <span class="hljs-string">"Presione una tecla"</span>,
    <span class="hljs-attr">header</span>: <span class="hljs-string">"Seleccione un Médico"</span>,
    <span class="hljs-attr">liveSearchStyle</span>: <span class="hljs-string">"contains"</span></pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>size: “auto”</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  });

  <span class="hljs-keyword">var</span> sel_inst = $(<span class="hljs-string">"#sel_inst"</span>).selectpicker({
    <span class="hljs-attr">liveSearchPlaceholder</span>: <span class="hljs-string">"Presione una tecla"</span>,
    <span class="hljs-attr">header</span>: <span class="hljs-string">"Seleccione una Institución"</span>,
    <span class="hljs-attr">liveSearchStyle</span>: <span class="hljs-string">"contains"</span></pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>size: “auto”</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  });

  <span class="hljs-keyword">var</span> sel_can = $(<span class="hljs-string">"#sel_can"</span>).selectpicker({
    <span class="hljs-attr">liveSearchPlaceholder</span>: <span class="hljs-string">"Presione una tecla"</span>,
    <span class="hljs-attr">header</span>: <span class="hljs-string">"Seleccione un Canal"</span>,
    <span class="hljs-attr">liveSearchStyle</span>: <span class="hljs-string">"contains"</span></pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <p>size: “auto”</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  });

  <span class="hljs-keyword">var</span> sel_apm = $(<span class="hljs-string">"#sel_apm"</span>).selectpicker({
    <span class="hljs-attr">liveSearchPlaceholder</span>: <span class="hljs-string">"Presione una tecla"</span>,
    <span class="hljs-attr">header</span>: <span class="hljs-string">"Seleccione un APM"</span>,
    <span class="hljs-attr">liveSearchStyle</span>: <span class="hljs-string">"contains"</span></pre></div></div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>size: “auto”</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  });

  <span class="hljs-keyword">var</span> sel_pat = $(<span class="hljs-string">"#sel_pat"</span>).selectpicker({
    <span class="hljs-attr">size</span>: <span class="hljs-string">"auto"</span>
  });

  <span class="hljs-keyword">var</span> sel_dos = $(<span class="hljs-string">"#sel_dos"</span>).selectpicker({
    <span class="hljs-attr">size</span>: <span class="hljs-string">"auto"</span>
  });

  <span class="hljs-keyword">var</span> sel_uni = $(<span class="hljs-string">"#sel_uni"</span>).selectpicker({
    <span class="hljs-attr">size</span>: <span class="hljs-string">"auto"</span>
  });

  <span class="hljs-keyword">var</span> sel_edad = $(<span class="hljs-string">"#sel_edad"</span>).selectpicker({
    <span class="hljs-attr">size</span>: <span class="hljs-string">"auto"</span>
  });

  <span class="hljs-keyword">var</span> sel_year = $(<span class="hljs-string">"#yearVenta"</span>).selectpicker({
    <span class="hljs-attr">size</span>: <span class="hljs-string">"auto"</span>
  });

  <span class="hljs-keyword">var</span> sel_month = $(<span class="hljs-string">"#mesVenta"</span>).selectpicker({
    <span class="hljs-attr">size</span>: <span class="hljs-string">"auto"</span>
  });



  $.getJSON(url_json, {
    <span class="hljs-attr">oper</span>: <span class="hljs-string">"j_meds"</span>
  }, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{
    $.each(data, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key, val</span>) </span>{
      $(<span class="hljs-string">"#sel_med"</span>).append(
        $(<span class="hljs-string">"&lt;option&gt;"</span>, {
          <span class="hljs-attr">id</span>: <span class="hljs-string">'m.medico_id'</span>,
          <span class="hljs-attr">value</span>: val.ID,
          <span class="hljs-attr">text</span>: val.nombre_med
        })
      );
      sel_med.selectpicker(<span class="hljs-string">"refresh"</span>);
    });
  });

  $.getJSON(url_json, {
    <span class="hljs-attr">oper</span>: <span class="hljs-string">"j_inst"</span>
  }, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{
    $.each(data, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key, val</span>) </span>{
      $(<span class="hljs-string">"#sel_inst"</span>).append(
        $(<span class="hljs-string">"&lt;option&gt;"</span>, {
          <span class="hljs-attr">id</span>: <span class="hljs-string">'m.institucion'</span>,
          <span class="hljs-attr">value</span>: val.inst_nom,
          <span class="hljs-attr">text</span>: val.inst_nom
        })
      );
      sel_inst.selectpicker(<span class="hljs-string">"refresh"</span>);
    });
  });

  $.getJSON(url_json, {
    <span class="hljs-attr">oper</span>: <span class="hljs-string">"j_can"</span>
  }, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{
    $.each(data, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key, val</span>) </span>{
      $(<span class="hljs-string">"#sel_can"</span>).append($(<span class="hljs-string">"&lt;option&gt;"</span>, {
        <span class="hljs-attr">id</span>: <span class="hljs-string">"m.canal"</span>,
        <span class="hljs-attr">value</span>: val.can_nom,
        <span class="hljs-attr">text</span>: val.can_nom
      }));
      sel_can.selectpicker(<span class="hljs-string">"refresh"</span>);
    });
  });

  $.getJSON(url_json, {
    <span class="hljs-attr">oper</span>: <span class="hljs-string">"j_apm"</span>
  }, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{
    $.each(data, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key, val</span>) </span>{
      $(<span class="hljs-string">"#sel_apm"</span>).append($(<span class="hljs-string">"&lt;option&gt;"</span>, {
        <span class="hljs-attr">id</span>: <span class="hljs-string">"m.apm"</span>,
        <span class="hljs-attr">value</span>: val.apm,
        <span class="hljs-attr">text</span>: val.apm
      }));
      sel_apm.selectpicker(<span class="hljs-string">"refresh"</span>);
    });
  });

  $.getJSON(url_json, {
    <span class="hljs-attr">oper</span>: <span class="hljs-string">"j_pat"</span>
  }, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{
    $.each(data, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key, val</span>) </span>{
      $(<span class="hljs-string">"#sel_pat"</span>).append($(<span class="hljs-string">"&lt;option&gt;"</span>, {
        <span class="hljs-attr">id</span>: <span class="hljs-string">"m.patologia"</span>,
        <span class="hljs-attr">value</span>: val.pat,
        <span class="hljs-attr">text</span>: val.pat
      }));
      sel_pat.selectpicker(<span class="hljs-string">"refresh"</span>);
    });
  });

  $.getJSON(url_json, {
    <span class="hljs-attr">oper</span>: <span class="hljs-string">"j_dos"</span>
  }, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{
    $.each(data, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key, val</span>) </span>{
      $(<span class="hljs-string">"#sel_dos"</span>).append($(<span class="hljs-string">"&lt;option&gt;"</span>, {
        <span class="hljs-attr">id</span>: <span class="hljs-string">"m.dosis"</span>,
        <span class="hljs-attr">value</span>: val.dosis,
        <span class="hljs-attr">text</span>: val.dosis
      }));
      sel_dos.selectpicker(<span class="hljs-string">"refresh"</span>);
    });
  });

  $.getJSON(url_json, {
    <span class="hljs-attr">oper</span>: <span class="hljs-string">"j_uni"</span>
  }, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{
    $.each(data, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key, val</span>) </span>{
      $(<span class="hljs-string">"#sel_uni"</span>).append($(<span class="hljs-string">"&lt;option&gt;"</span>, {
        <span class="hljs-attr">id</span>: <span class="hljs-string">"m.Unidades"</span>,
        <span class="hljs-attr">value</span>: val.uni,
        <span class="hljs-attr">text</span>: val.uni
      }));
      sel_uni.selectpicker(<span class="hljs-string">"refresh"</span>);
    });
  });

  $.getJSON(url_json, {
    <span class="hljs-attr">oper</span>: <span class="hljs-string">"j_edad"</span>
  }, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{
    $.each(data, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key, val</span>) </span>{
      $(<span class="hljs-string">"#sel_edad"</span>).append($(<span class="hljs-string">"&lt;option&gt;"</span>, {
        <span class="hljs-attr">id</span>: <span class="hljs-string">"m.edad"</span>,
        <span class="hljs-attr">value</span>: val.edad,
        <span class="hljs-attr">text</span>: val.edad
      }));
      sel_edad.selectpicker(<span class="hljs-string">"refresh"</span>);
    });
  });

  $.getJSON(url_json, {
    <span class="hljs-attr">oper</span>: <span class="hljs-string">"j_year"</span>
  }, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{
    $.each(data, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key, val</span>) </span>{
      $(<span class="hljs-string">"#yearVenta"</span>).append($(<span class="hljs-string">"&lt;option&gt;"</span>, {
        <span class="hljs-attr">id</span>: <span class="hljs-string">"year(m.fecha_venta)"</span>,
        <span class="hljs-attr">value</span>: val.f_venta,
        <span class="hljs-attr">text</span>: val.f_venta
      }));
      sel_year.selectpicker(<span class="hljs-string">"refresh"</span>);
    });
  });

  $.getJSON(url_json, {
    <span class="hljs-attr">oper</span>: <span class="hljs-string">"j_mes"</span>
  }, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) </span>{
    $.each(data, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key, val</span>) </span>{
      $(<span class="hljs-string">"#mesVenta"</span>).append($(<span class="hljs-string">"&lt;option&gt;"</span>, {
        <span class="hljs-attr">id</span>: <span class="hljs-string">"month(m.fecha_venta)"</span>,
        <span class="hljs-attr">value</span>: key,
        <span class="hljs-attr">text</span>: val
      }));
      sel_month.selectpicker(<span class="hljs-string">"refresh"</span>);
    });
  });</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>Add minus icon for collapse element which is open by default</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  $(<span class="hljs-string">".collapse.in"</span>).each(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    $(<span class="hljs-keyword">this</span>)
      .siblings(<span class="hljs-string">".panel-heading"</span>)
      .find(<span class="hljs-string">".glyphicon"</span>)
      .addClass(<span class="hljs-string">"glyphicon-minus"</span>)
      .removeClass(<span class="hljs-string">"glyphicon-plus"</span>);
  });</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>Toggle plus minus icon on show hide of collapse element</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  $(<span class="hljs-string">".collapse"</span>)
    .on(<span class="hljs-string">"show.bs.collapse"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
      $(<span class="hljs-keyword">this</span>)
        .parent()
        .find(<span class="hljs-string">".glyphicon"</span>)
        .removeClass(<span class="hljs-string">"glyphicon-plus"</span>)
        .addClass(<span class="hljs-string">"glyphicon-minus"</span>);
    })
    .on(<span class="hljs-string">"hide.bs.collapse"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
      $(<span class="hljs-keyword">this</span>)
        .parent()
        .find(<span class="hljs-string">".glyphicon"</span>)
        .removeClass(<span class="hljs-string">"glyphicon-minus"</span>)
        .addClass(<span class="hljs-string">"glyphicon-plus"</span>);
    });
});

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">postQuery</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> txtOpt = <span class="hljs-keyword">this</span>.options[<span class="hljs-keyword">this</span>.selectedIndex]; <span class="hljs-comment">// texto del option</span>
  <span class="hljs-keyword">var</span> colQuery = <span class="hljs-keyword">this</span>.options[<span class="hljs-keyword">this</span>.selectedIndex].getAttribute(<span class="hljs-string">'id'</span>); <span class="hljs-comment">// id query</span>
  <span class="hljs-keyword">var</span> idQuery = <span class="hljs-keyword">this</span>.value;
  
  <span class="hljs-built_in">window</span>.location = getCurrentHostname() + _url + colQuery + <span class="hljs-string">"&amp;inicial="</span> + idQuery + <span class="hljs-string">"&amp;lim=2&amp;plus="</span>
  

}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getCurrentHostname</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> protocolo, url, var_port, port;

  protocolo = <span class="hljs-built_in">window</span>.location.protocol;
  url = <span class="hljs-built_in">window</span>.location.hostname;
  var_port = <span class="hljs-built_in">window</span>.location.port;
  path = <span class="hljs-built_in">window</span>.location.pathname;

  <span class="hljs-keyword">if</span> (var_port !== <span class="hljs-string">""</span>) {
    port = <span class="hljs-string">":"</span> + var_port;
  } <span class="hljs-keyword">else</span> {
    port = <span class="hljs-string">""</span>;
  }

  <span class="hljs-keyword">return</span> protocolo + <span class="hljs-string">"//"</span> + url + port + path;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getUrlHTTP</span>(<span class="hljs-params"></span>) </span>{

  <span class="hljs-keyword">var</span> path = <span class="hljs-built_in">window</span>.location.pathname;
  <span class="hljs-keyword">var</span> appName = path.split(<span class="hljs-string">"/"</span>);
  <span class="hljs-keyword">return</span> appName[<span class="hljs-number">1</span>];
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fillTblDatos</span>(<span class="hljs-params">cVentas, cUnidades, cPac, pUni</span>) </span>{
  <span class="hljs-keyword">var</span> values = [cVentas, cUnidades, cPac, pUni];
  <span class="hljs-keyword">var</span> dTbl = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"tDat"</span>);
  <span class="hljs-keyword">var</span> prom = <span class="hljs-built_in">Math</span>.round(values[<span class="hljs-number">3</span>] * <span class="hljs-number">100</span>) / <span class="hljs-number">100</span>;

dTbl.innerHTML =
  <span class="hljs-string">'&lt;table class= "table table-bordered" id="tblDatos"&gt;'</span> +
  <span class="hljs-string">'&lt;tr&gt;'</span> +
  <span class="hljs-string">'&lt;th class="thDatos"&gt;Ventas&lt;/th&gt;'</span> +
  <span class="hljs-string">'&lt;td id = "tVentas"&gt;'</span> + values[<span class="hljs-number">0</span>] + <span class="hljs-string">'&lt;/td&gt;'</span> +
  <span class="hljs-string">'&lt;/tr&gt;'</span> +
  <span class="hljs-string">'&lt;tr&gt;'</span> +
  <span class="hljs-string">'&lt;th class="thDatos"&gt;Unidades&lt;/th&gt;'</span> +
  <span class="hljs-string">'&lt;td id = "tUni" &gt;'</span> + values[<span class="hljs-number">1</span>] + <span class="hljs-string">'&lt;/td&gt;'</span> +
  <span class="hljs-string">'&lt;/tr&gt;'</span> +
  <span class="hljs-string">'&lt;tr&gt;'</span> +
  <span class="hljs-string">'&lt;th class = "thDatos" &gt; Pacientes &lt;/th&gt;'</span> +
  <span class="hljs-string">'&lt;td id = "tPac" &gt;'</span> + values[<span class="hljs-number">2</span>] + <span class="hljs-string">'&lt;/td&gt;'</span> +
  <span class="hljs-string">'&lt;/tr&gt;'</span> +
  <span class="hljs-string">'&lt;tr &gt;'</span> +
  <span class="hljs-string">'&lt;th class = "thDatos" &gt; Promedio Unidades por Pacientes &lt;/th&gt;'</span> +
  <span class="hljs-string">'&lt;td id = "tPro" &gt;'</span> + prom + <span class="hljs-string">'&lt;/td&gt;'</span> +
  <span class="hljs-string">'&lt;/tr&gt;'</span> +
  <span class="hljs-string">'&lt;/table&gt;'</span>;
}</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
